# vim: set sw=4 sta et :

channel: ttl
ntupledir: test/sync_tau
outdir: test/sync_tau/out
histformat: "{p}_{c}_{v}"
mode: sync

lumi: 2517

plot:
  - syncTree
  - syncTree_1l2tau
  # - ttjets

limits: []

categories:
  - "tau": "n_presel_tau >= 1"
  - "jet": "n_presel_jet >= 1"
  - "ele": "n_presel_ele >= 1"
  - "mu": "n_presel_mu >= 1"

default cuts:
    - "e/μ quality": "lepton_id == superslim::Lepton::MVA"
    - "τ quality": "tau_id == superslim::Tau::IsoMVA03"

default weights: []

ttl cuts:
    - "l pt": >
        (leptons[0].electron() and leptons[0].pt() > 30) or
        (leptons[0].muon() and leptons[0].pt() > 25)
    - "l quality": >
        lepton_id == superslim::Lepton::MVA
    - "1st l": >
        leptons[0].mva() >= superslim::id::Loose
    - "1 l": >
        std::count_if(leptons.begin(), leptons.end(), [](const superslim::Lepton& l) { return l.mva() >= superslim::id::Loose; }) == 1
    - "τ ID": >
        tau_id == superslim::Tau::IsoMVA03
    - "τ quality": >
        std::count_if(taus.begin(), taus.end(), [](const superslim::Tau& t) { return t.isolationMVA03() >= superslim::id::Medium; }) >= 2
    - "jets": >
        len(jets) >= 4 and
        (btags(jets) >= 1 or btags(jets, true) >= 2)

ttl weights: []
systematics: NA
